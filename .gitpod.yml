# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

#tasks:
 # - init: ./mvnw install -DskipTests=false

# image: gitpod/workspace-full

# tasks:
#   - init: ./mvnw clean install -U -DskipTests
#     command: ./mvnw spring-boot:run
#     name: Run BookStore app

# ports:
#   - port: 8080
#     onOpen: open-preview

image: gitpod/workspace-full:latest

# Initialize tasks
tasks:
  # Run Maven clean install
  - init: echo "Running Maven clean install..."
    command: mvn clean install

  # Initialize the MySQL database (customize as needed)
  - init: echo "Initializing MySQL database..."
    command: ./init-db.sh

# Expose MySQL on port 3306 for local development
# services:
#   - name: mysql
#     port: 3306

# Expose port 8080 for your Java application (customize as needed)
ports:
  - port: 8080
    onOpen: open-preview